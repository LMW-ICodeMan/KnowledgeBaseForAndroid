# MOA项目的内存泄露相关问题分析及预防方案

---

## 前言

通过对于Android开发中常见的内存泄露的案例的分析，结合观察MOA项目的代码实现，在我们的项目中，最需要注意内存泄露的地方有如下几个地方：

- 静态量
- 非静态内部类
- 匿名内部类

还有其它根据对我们项目的分析，其中还存在由于引用第三方Jar包造成的内存泄露，这一类型的内存泄露不在本文的预防方案以内。

## 针对静态量引起的内存泄露的预防方案

静态量造成的内存泄露最常见的有这几种场景：

- 单例模式
- Handler
- 静态存储量

下面分别针对项目中的代码对这几种场景的错误和正确事项方式做详细的介绍

### 单例模式

我们在使用单例模式的时候，需要先考虑单例的生命周期。由于单例的实现方式是将实例对象作为静态成员变量存储在内存中，所以，单例的生命周期