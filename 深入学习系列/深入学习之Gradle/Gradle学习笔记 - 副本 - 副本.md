# Gradle学习笔记

---

## 学习理由

在Github上面经常可以看到别人发布的开源控件，我们在使用时可以直接在Gradle中使用compile的方法依赖对方的库，觉得很神奇就去看了下库的概念，但是并没有去详细的研究和理解。

在之后的使用中遇到过一些问题：

- 有些依赖直接在app的build.gradle中compile就可以了，有些则需要还需要配置project下的build.gradle
- 当项目的开发人员偷懒，不及时修改文档，这种情况下我们需要如何去知道当前可依赖的最新版本
- 当自己需要自己的控件被别人使用时，不知道怎么去操作

由于遇到了这些问题，发现自己对于仓库以及Gradle的了解程度还远远不够，所以去收集了解了一下网上的资料及相关文档，然后将这一过程总结成档，以便之后参阅。

## 带着问题去学习

- 什么是仓库？

- 怎么创建仓库？

- 什么是Gradle?

- 怎么使用Gradle？

上面是我这次学习主要希望了解和解决的一些问题，本文的主要目的是对Gradle的学习，而我们在使用Gradle的时候，最频繁的操作就是依赖别人的库，所以在学习Gradle之前首先对仓库的概念及使用进行了学习。

## 什么是仓库？

### 概念

代码仓库是用来集中存储东西的地方，存储的东西包括各种信息、开源控件以及项目源码，我们可以理解为仓库是用来管理各种jar包的地方。

### 理解

我们经常用到git或者svn等版本控制工具，实际上这些工具就是在局域网下建立了一个代码仓库，这个仓库被用来管理一个或者多个项目，而GitHub和OS-China维护的则是一个广域网下面的代码仓库。

我们使用依赖时的仓库也是一样的东西，在使用依赖时实际就是构建工具帮助我们从远程的代码仓库中clone下来对应的构件（lib），然后与我们的项目进行关联。

**注意：通过这个理解说明gradle不是仓库，gradle是构建工具，它会从仓库里面拿到东西并关联我们的项目，类比快递行业，相当于分拣机器人的工作。同样的，maven和ant+ivy也是一样。**

### 分类

仓库的分类有本地仓库和远程仓库两种（有资料中说的三种,不能理解，希望有能具体介绍第三种的读者留言或者私信...囧）

#### 本地仓库

本地仓库是为了在断网情况下，或者访问不到中央仓库的情况下使用的。这一仓库可能是人为创建的，是用于统一管理当前计算机下面的jar包，也可能是我们在使用gradle这样的构件工具时为我们创建的本地仓库（比如c盘下的.gradle目录）。在构建工具构建项目时，先会访问本地仓库，如果所需要的构件已经存在，则使用本地构件，如果本地构件不存在，则会从远程仓库下载构件。

#### 远程仓库

远程仓库需要通过联网获取构件，根据其作用域的不同，又可以分为三种：

- 中央仓库

中央仓库是全球开发者公认的最大、最全、作用域最广的仓库，其中包括了绝大多数构件，常用的包括：[mavenCenter()](http://mvnrepository.com/)和[jcenter()](https://bintray.com/bintray/jcenter)

- 公共仓库

公共仓库是由一些国内良心企业为了解决翻墙问题搭建的一个仓库，可以视为一个中转站，作用域要小于中央仓库，但是实际概念和中央仓库一样，都是广域网下面仓库，常用的包括：[阿里云仓库]{http://maven.aliyun.com/nexus/content/groups/public}和[GitHub仓库]{https://jitpack.io}

- 私有仓库

私有仓库是个人或者单位搭建的在局域网下使用的仓库，用来能够很大的加快内网下构建项目的速度，同时也可以有效的解决内网无法访问外网和没有梯子的问题（别问我梯子是什么）。


## 鸣谢

[跟我学Gradle(文集)](http://www.jianshu.com/nb/3906477)
